<!doctype html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="description" content="Brew Bubbles, a Home Brewing application">
    <meta name="author" content="Lee Bussy">

    <title>Brew Bubbles</title>

    <link rel="canonical" href="https://www.brewbubbles.com/">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="apple-mobile-web-app-title" content="Brew Bubbles">
    <meta name="application-name" content="Brew Bubbles">
    <meta name="msapplication-TileColor" content="#00aba9">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="msapplication-config" content="/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/united/bootstrap.min.css"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" crossorigin="anonymous">

    <style>
        main>.container {
            padding: 60px 15px 0;
        }

        .footer {
            background-color: #f5f5f5f5;
        }

        .footer>.container {
            padding-right: 15px;
            padding-left: 15px;
        }
    </style>
</head>

<body class="d-flex flex-column h-100">

    <header>

        <nav class="navbar navbar-expand-lg navbar-dark bg-primary"> <!-- Nav Bar -->

            <a class="navbar-brand" href="/"> <!-- Brand Link -->
                <img src="/mstile-144x144.png" style="width:25px;height:25px;">
                &nbsp;Brew Bubbles
            </a> <!-- Brand Link -->

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01"
                aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarColor01"> <!-- Nav Bar Links -->
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="/settings/">Settings <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/help/">Help</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about/">About</a>
                    </li>
                </ul>
            </div> <!-- Nav Bar Links -->

        </nav> <!-- Nav Bar -->

    </header>

    <main role="main" class="flex-shrink-0">

        <div class="container" id="settingsapp">

            <div class="card border-dark mb-3">

                <ul class="nav nav-tabs"> <!-- Nav Tabs -->

                    <li class="nav-item"> <!-- Controller Nav Item -->
                        <a class="nav-link active" data-toggle="tab" href="#controller">Controller</a>
                    </li> <!-- Controller Nav Item -->

                    <li class="nav-item"> <!-- Temperature Nav Item -->
                        <a class="nav-link" data-toggle="tab" href="#temperature">Temperature</a>
                    </li> <!-- Temperature Nav Item -->

                    <li class="nav-item dropdown"> <!-- Targets Nav Item -->
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                            aria-haspopup="true" aria-expanded="false">Targets</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" data-toggle="tab" href="#urltarget">URL Target</a>
                            <a class="dropdown-item" data-toggle="tab" href="#brewersfriend">Brewer's Friend</a>
                            <a class="dropdown-item" data-toggle="tab" href="#brewfather">Brewfather</a>
                            <a class="dropdown-item" data-toggle="tab" href="#thingspeak">Thingspeak</a>
                        </div>
                    </li> <!-- Targets Nav Item -->

                    <li class="nav-item dropdown"> <!-- Advanced Nav Item -->
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button"
                            aria-haspopup="true" aria-expanded="false">Advanced</a>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" data-toggle="tab" href="#reset">Reset</a>
                            <a class="dropdown-item" data-toggle="tab" href="#update">Update</a>
                            <a class="dropdown-item" data-toggle="tab" href="#wifi">Wifi</a>
                        </div>
                    </li> <!-- Advanced Nav Item -->

                </ul> <!-- Nav Tabs -->

                <div id="myTabContent" class="tab-content"> <!-- Nav Tab Content -->
                    
                    <div class="tab-pane fade show active" id="controller"> <!-- Controller Settings Tab -->
                        <div class="card-header">
                            <h4 class="card-title">Controller Settings</h4>
                        </div>

                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <form id="setmdnsid" action="/settings/update/" method="POST"> <!-- mDNS Form -->
                                        <div class="form-group row">
                                            <label for="mdnsid" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Change mDNS name. Do not add the &ldquo;.local&rdquo; to the name">
                                                mDNS ID
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="mdnsid" name="mdnsid" minlength="3"
                                                    maxlength="32" placeholder="Hostname">
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn btn-primary" id="submitSettings">
                                                    Update
                                                </button>
                                            </div>
                                        </div>
                                    </form> <!-- mDNS Form -->

                                    <form id="setbubname" action="/settings/update/" method="POST"> <!-- Bubble ID Form-->
                                        <div class="form-group row">
                                            <label for="bubname" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Change the name of this fermenter">
                                                Bubble ID
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="bubname" name="bubname" minlength="3"
                                                    maxlength="32" placeholder="Fermenter 1">
                                            </div>
                                            <div class="col-sm-2">
                                                <button class="btn btn-primary" id="submitSettings">
                                                    Update
                                                </button>
                                            </div>
                                        </div>
                                    </form> <!-- Bubble ID Form-->

                                </li>
                            </ul>
                        </div>

                    </div> <!-- Controller Settings Tab -->

                    <div class="tab-pane fade" id="temperature"> <!-- Temperature Settings tab -->
                        <div class="card-header">
                            <h4 class="card-title">Temperature Settings</h4>
                        </div>

                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <form id="settempformat" action="/settings/update/" method="POST"> <!-- Temperature Format Form-->
                                        
                                        <fieldset class="form-group">
                                            <h5 class="legend">Temperature Format</h5>
                                            <div class="row justify-content-center">
                                                <div class="col">
                                                    <p>&nbsp;</p>
                                                </div>
                                                <div class="col">
                                                    <div class="form-check">
                                                        <label class="form-check-label">
                                                          <input type="radio" class="form-check-input" name="tempformat" id="celcius" value="option0">
                                                            Celsius 
                                                        </label>
                                                      </div>
                                                      <div class="form-check">
                                                      <label class="form-check-label">
                                                          <input type="radio" class="form-check-input" name="tempformat" id="fahrenheit" value="option1">
                                                            Fahrenheit 
                                                        </label>
                                                      </div>
                                                </div>
                                                <div class="col">
                                                    <p>&nbsp;</p>
                                                </div>
                                                <div class="col">
                                                    <button class="btn btn-primary" id="submitSettings">Update</button>
                                                </div>
                                                <div class="col">
                                                    <p>&nbsp;</p>
                                                </div>
                                            </div>
                                        </fieldset>

                                    </form> <!-- Temperature Format Form-->

                                    <hr class="my-4">

                                    <fieldset class="form-group"> <!-- Temperature Calibration Form-->
                                       
                                        <h5 class="legend">Temperature Calibration</h5>

                                        <form id="setcalroom" action="/settings/update/" method="POST"> <!-- Room Temperature Calibration Form-->
                                            <div class="form-group row">
                                                <label for="calRoom" class="col-sm-2 col-form-label"
                                                    data-toggle="tooltip"
                                                    title="Value by which the Room temperature display will be offset">Room</label>
                                                <div class="col-sm-8">
                                                    <input type="number" class="form-control" name="calroom" id="calroom"
                                                        min="-25" max="25" step=".01" placeholder="0.0">
                                                </div>
                                                <div class="col-sm-2">
                                                    <button class="btn btn-primary" id="submitSettings">Update</button>
                                                </div>
                                            </div>
                                        </form> <!-- Room Temperature Calibration Form-->

                                        <form id="setcalvessel" action="/settings/update/" method="POST"><!-- Vessel Temperature Calibration Form-->
                                            <div class="form-group row">
                                                <label for="calVessel" class="col-sm-2 col-form-label"
                                                    data-toggle="tooltip"
                                                    title="Value by which the Vessel temperature display will be offset">Vessel</label>
                                                <div class="col-sm-8">
                                                    <input type="number" class="form-control" name="calvessel" id="calvessel"
                                                        min=-25 max=25 step=".01" placeholder="0.0">
                                                </div>
                                                <div class="col-sm-2">
                                                    <button class="btn btn-primary" id="submitSettings">Update</button>
                                                </div>
                                            </div>
                                        </form> <!-- Vessel Temperature Calibration Form-->

                                    </fieldset> <!-- Temperature Calibration Form-->

                                </li>
                            </ul>
                        </div>
                    </div> <!-- Temperature Settings tab -->

                    <div class="tab-pane fade" id="urltarget"> <!-- URL Target Settings tab -->
                        <div class="card-header">
                            <h4 class="card-title">URL Target Settings</h4>
                        </div>

                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <p class="card-text">These settings control how Brew Bubbles talks to an HTML
                                        endpoint such as <a href="https://www.brewpiremix.com/">BrewPi Remix</a> or
                                        <a href="https://www.fermentrack.com/">Fermentrack</a>. To disable pushing to
                                        the endpoint, delete the URL.
                                    </p>

                                    <form id="seturltarget" action="/settings/update/" method="POST"> <!-- URL Target URL Form -->
                                        <div class="form-group row">
                                            <label for="endpointURL" class="col-sm-2 col-form-label"
                                                data-toggle="tooltip"
                                                title="HTML Endpoint URL. Delete to disable pushing to an HTML Endpoint. Ports other than 80 need to be in the format of: http://foo.com:8080/page.php">
                                                Target
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="url" class="form-control" id="urltargeturl" name="urltargeturl"
                                                    minlength="3" maxlength="128"
                                                    placeholder="http://brewpi.local/brewpi-api.php">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary"
                                                    id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- URL Target URL Form -->

                                    <form id="seturlfreq" action="/settings/update/" method="POST"> <!-- URL Target Frequency Form -->
                                        <div class="form-group row">
                                            <label for="endpointPushEvery" class="col-sm-2 col-form-label"
                                                data-toggle="tooltip"
                                                title="How often (in minutes) to push data to HTML Endpoint">Push
                                                Frequency</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" id="urlfreq" name="urlfreq"
                                                    placeholder="2" min="1" max="60">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary"
                                                    id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- URL Target Frequency Form -->

                                </li>
                            </ul>
                        </div>
                    </div> <!-- URL Target Settings tab -->

                    <div class="tab-pane fade" id="brewersfriend"> <!-- Brewer's Friend Settings tab -->
                        <div class="card-header">
                            <h4 class="card-title">Brewer's Friend Target Settings</h4>
                        </div>

                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <p class="card-text">
                                        These settings control how Brew Bubbles talks to
                                        <a href="http://www.brewersfriend.com/">Brewer's Friend.</a> With a premium account,
                                        Brewer's Friend supports logging brew-related data. To find your API key; log into
                                        your Brewer's Friend account and go to Profile > Account. Your API key will be a
                                        20 to 64-character string of letters and numbers (not a URL).
                                    </p>
                
                                    <form id="setbrewersfriendkey" action="/settings/update/" method="POST"> <!-- Brewer's Friend Key Form -->
                                        <div class="form-group row">
                                            <label for="brewersFriendKey" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Enter the API key from your Brewer's Friend premium account. To disable pushing to Brewer's Friend, delete the key.">
                                                Brewer's Friend Key
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="brewersfriendkey" name="brewersfriendkey"
                                                    minlength="20" maxlength="64" placeholder="000fa2ac454c1abf14ffa3">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- Brewer's Friend Key Form -->
                
                                    <form id="setbrewersfriendfreq" action="/settings/update/" method="POST"> <!-- Brewer's Friend Target Frequency Form -->
                                        <div class="form-group row">
                                            <label for="bfPushEvery" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="How often (in minutes) to push data to Brewer's Friend">Push Frequency</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" id="brewersfriendfreq" placeholder="15"
                                                    name="brewersfriendfreq" min="15" max="120">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- Brewer's Friend Target Frequency Form -->

                                </li>
                            </ul>
                        </div>

                    </div> <!-- Brewer's Friend Settings tab -->

                    <div class="tab-pane fade" id="brewfather"> <!-- Brewfather Settings tab -->
                        <div class="card-header">
                            <h4 class="card-title">Brewfather Target Settings</h4>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <p class="card-text">
                                        These settings control how Brew Bubbles talks to
                                        <a href="https://brewfather.app/">Brewfather.</a>
                                        With a premium account, Brewfather supports logging brew-related data.
                                        To find your API key; log into your Brewfather account and go to Custom Stream.
                                        Your API key will be a 10 to 64-character string of letters and numbers on the 
                                        line following &quot;<b>URL</b> http://log.brewfather.net/stream?id=&quot;
                                        (do not include the the URL.)
                                    </p>

                                    <form id="setbrewfatherkey" action="/settings/update/" method="POST"> <!-- Brewfather Key Form -->
                                        <div class="form-group row">
                                            <label for="brewersFriendKey" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Enter the API key from your Brewfather premium account. To disable pushing to Brewfather, delete the key.">
                                                Brewfather Key
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="brewfatherkey" name="brewfatherkey"
                                                    minlength="10" maxlength="64" placeholder="q4F3wPfooBa3X3">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- Brewfather Key Form -->
                
                                    <form id="setbrewfatherfreq" action="/settings/update/" method="POST"> <!-- Brewfather Frequency Form -->
                                        <div class="form-group row">
                                            <label for="bfPushEvery" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="How often (in minutes) to push data to Brewfather">Push Frequency</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" id="brewfatherfreq" placeholder="15"
                                                    name="brewfatherfreq" min="15" max="120">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- Brewfather Frequency Form -->

                                </li>
                            </ul>
                        </div>
                    </div> <!-- Brewfather Settings tab -->

                    <div class="tab-pane fade" id="thingspeak"> <!-- ThingSpeak Settings tab -->
                        <div class="card-header">
                            <h4 class="card-title">ThingSpeak Target Settings</h4>
                        </div>
                        <div class="card-body">
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item">

                                    <p class="card-text">
                                        These settings control how Brew Bubbles talks to
                                        <a href="https://thingspeak.com/">ThingSpeak.</a>
                                        ThingSpeak supports logging brew-related data, and
                                        with some imagination, several dashboards may be
                                        created to visualize and make use of your data. To
                                        find your API key; log into your ThingSpeak account
                                        and go to `My Profile.' Your API key will be a 10
                                        to 64-character string of letters and numbers in the
                                        'ThingSpeak Settings' section.
                                    </p>

                                    <form id="setthingspeakchannel" action="/settings/update/" method="POST"> <!-- ThingSpeak Channel Form -->
                                        <div class="form-group row">
                                            <label for="thingSpeakChannel" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Enter the Channel number of your target ThingSpeak channel.">
                                                ThingSpeak Channel
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" id="thingspeakchannel" name="thingspeakchannel"
                                                    min="1000" max="9999999999" placeholder="1234567890">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- ThingSpeak Key Form -->

                                    <form id="setthingspeakkey" action="/settings/update/" method="POST"> <!-- ThingSpeak Key Form -->
                                        <div class="form-group row">
                                            <label for="thingSpeakKey" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="Enter the Write API Key from your ThingSpeak channel. To disable pushing to ThingSpeak, delete the key.">
                                                ThingSpeak Key
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" id="thingspeakkey" name="thingspeakkey"
                                                    minlength="10" maxlength="64" placeholder="DD24FNDN84305AJ">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- ThingSpeak Key Form -->

                                    <form id="setthingspeakfreq" action="/settings/update/" method="POST"> <!-- ThingSpeak Frequency Form -->
                                        <div class="form-group row">
                                            <label for="tsPushEvery" class="col-sm-2 col-form-label" data-toggle="tooltip"
                                                title="How often (in minutes) to push data to ThingSpeak">Push Frequency</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control" id="thingspeakfreq" placeholder="15"
                                                    name="thingspeakfreq" min="15" max="120">
                                            </div>
                                            <div class="col-sm-2"><button class="btn btn-primary" id="submitSettings">Update</button>
                                            </div>
                                        </div>
                                    </form> <!-- ThingSpeak Frequency Form -->

                                </li>
                            </ul>
                        </div>
                    </div> <!-- ThingSpeak Settings tab -->

                    <div class="tab-pane fade" id="reset"> <!-- Reset Controller tab -->
                        <div class="card-header">
                            <h4 class="card-title">Reset Controller</h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                You may want to reset the controller for some reason. For instance if it's AAALLL the
                                way in the garage. You can do that here. This is a safe operation, it will simply reboot
                                the controller.
                            </p>
                            <p class="card-text">
                                <a href="/reset/" class="btn btn-danger">Reset Controller</a>
                            </p>
                        </div>
                    </div> <!-- Reset Controllers tab -->

                    <div class="tab-pane fade" id="update"> <!-- Update Controller tab -->
                        <div class="card-header">
                            <h4 class="card-title">Update Controller</h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                Your Brew Bubbles can be updated over the internet to the latest version of the Brew Bubbles
                                firmware. Click the "Update Firmware" button below to proceed.
                            </p>
                            <p class="card-text">
                                <a href="/ota/" class="btn btn-danger">Update Firmware</a>
                            </p>
                        </div>
                    </div> <!-- Update Controllers tab -->

                    <div class="tab-pane fade" id="wifi"> <!-- Wifi Reset tab -->
                        <div class="card-header">
                            <h4 class="card-title">Reset Wifi Settings</h4>
                        </div>
                        <div class="card-body">
                            <p class="card-text">
                                If you plan on relocating your Brew Bubbles to a new network, you can reset the WiFi connection
                                settings by clicking "Reset WiFi". You will need to perform the the original network setup again
                                by connecting to this device as an access point.
                            </p>
                            <p class="card-text">
                                <a href="/wifi/" class="btn btn-danger">Reset WiFi</a>
                            </p>
                        </div>
                    </div> <!-- Wifi Reset tab -->

                </div> <!-- Nav Tab Content -->

            </div>

        </div>

    </main>

    <footer class="footer mt-auto py-3">
        <div class="container">
            <span class="text-muted">Copyright &copy; 2019-2020, Lee C. Bussy</span>
        </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous">
        </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
        </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
        </script>

    <script type="text/javascript">
        // Attach the event after the page loads
        if (window.addEventListener)
            window.addEventListener("load", loadPage, false);
        else if (window.attachEvent)
            window.attachEvent("onload", loadPage);
        else window.onload = loadPage;

        function loadPage() {
            populateForm();
            loadTab();
        }

        function loadTab() {
            // Javascript to enable linking to tab
            var url = document.location.toString();
            if (url.match('#')) {
                $('.nav-tabs a[href="#' + url.split('#')[1] + '"]').tab('show');
            }

            // Change hash for page-reload
            $('.nav-tabs a').on('shown.bs.tab', function (e) {
                window.location.hash = e.target.hash;
            });
        }

        function populateForm() { // Get current parameters
            var url = "/config/";
            var config = $.getJSON(url, function () {
            })
                .done(function (config) {
                    try {
                        $('#mdnsid').val(config.hostname);
                        $('#bubname').val(config.bubble.name);
                        if (config.bubble.tempinf) {
                            $('#fahrenheit').prop("checked", true);
                        } else {
                            $('#celcius').prop("checked", true);
                        }
                        $('#calroom').val(config.calibrate.room);
                        $('#calvessel').val(config.calibrate.vessel);
                        $('#urltargeturl').val(config.urltarget.url);
                        $('#urlfreq').val(config.urltarget.freq);
                        $('#brewersfriendkey').val(config.brewersfriend.key);
                        $('#brewersfriendfreq').val(config.brewersfriend.freq);
                        $('#brewfatherkey').val(config.brewfather.key);
                        $('#brewfatherfreq').val(config.brewfather.freq);
                        $('#thingspeakchannel').val(config.thingspeak.channel);
                        $('#thingspeakkey').val(config.thingspeak.key);
                        $('#thingspeakfreq').val(config.thingspeak.freq);
                    }
                    catch {
                        alert("Unable to parse configuration data from SPIFFS.");
                    }
                })
                .fail(function () {
                    alert("Unable to retrieve configuration data from SPIFFS.");
                })
                .always(function () {
                    // Can post-process here
                });
        }
    </script>

</body>

</html>
